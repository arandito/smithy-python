[tox]
envlist = py310

skipsdist = True

[testenv]
deps =
    -r requirements-dev.txt
    -e .
commands =
    pytest --cov-config=.coveragerc --cov=./ --cov-report=xml tests/functional tests/unit

[testenv:lint]
deps =
    -r requirements-dev.txt
commands =
    black --target-version py310 --check --diff smithy_python tests
    flake8 smithy_python tests

[testenv:type]
deps =
    -r requirements-dev.txt
    -e .
commands =
    mypy smithy_python tests

[testenv:full_tests]
deps =
    -r requirements-dev.txt
    -e .
commands =
    pytest --cov-config=.coveragerc --cov=./ --cov-report=xml tests
